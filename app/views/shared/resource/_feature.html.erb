<div class="feature">
  <%= render partial: 'shared/resource/media', locals: { resource: resource } %>
  <div class="body">
    <div class="content">
      <div>
        <span class="type">
          <%= defined?(type_title) ? type_title : resource.type_title %>
          <% if resource.scriptures.any? %>
            |
            <% resource.connection_scriptures.each do |connection_scripture| %>
              <%= link_to connection_scripture.name, scripture_path(connection_scripture.scripture_id, resource_type: params[:resource_type]) %>
            <% end %>
          <% end %>
        </span>
        <h2 class="my-2"><%= link_to resource.name, resource_path(resource) %></h2>
        <% if resource.series.any? || resource.authors.any? %>
          <div class="snippet">
            <% resource.series.each do |series| %>
              <%= link_to series.name, series_path(series, resource_type: params[:resource_type]) %>
            <% end %>
            |
            <% resource.authors.each do |author| %>
              <%= link_to author.name, author_path(author, resource_type: params[:resource_type]) %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="d-flex">
      <date class="date"><%= resource.published_at.strftime('%b %d, %Y') %></date>
      <div class="ml-auto">
        <%= link_to "#{resource.action} <i class=\"fa fa-angle-right ml-1\"></i>".html_safe, resource_path(resource), class: 'action' %>
      </div>
    </div>
  </div>
</div>
